<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zj.mybatis.mapper.CategoryMapperCustom" >

 <resultMap id="BaseResultMap" type="com.zj.mybatis.pojo.Category" >
    <id column="category_id" property="categoryId" jdbcType="INTEGER" />
    <result column="category_pid" property="categoryPid" jdbcType="INTEGER" />
    <result column="category_name" property="categoryName" jdbcType="VARCHAR" />
    <result column="category_description" property="categoryDescription" jdbcType="VARCHAR" />
    <result column="category_order" property="categoryOrder" jdbcType="INTEGER" />
    <result column="category_icon" property="categoryIcon" jdbcType="VARCHAR" />
    <result column="category_status" property="categoryStatus" jdbcType="INTEGER" />
  </resultMap>
 <sql id="category_table_all_column">
        category_id,
        category_pid,
        category_name,
        category_description,
        category_order,
        category_icon,
        category_status
    </sql>
 
 
 <!--获得分类信息-->
   <select id="getCategoryById" parameterType="Integer" resultMap="BaseResultMap">
        SELECT
        <include refid="category_table_all_column"/>
        FROM category
        <where>
            <if test="status!=null">
                category_status=#{status} AND
            </if>
            category.category_id=#{id}
        </where>
    </select>


</mapper>